
-- Departments
INSERT INTO DEPARTMENTS (id, name) VALUES
('11111111-1111-1111-1111-111111111111', 'Neurologija'),
('22222222-2222-2222-2222-222222222222', 'Kardiologija');

-- Rooms
INSERT INTO ROOMS (id, departmentID, name) VALUES
('aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaaa', '11111111-1111-1111-1111-111111111111', 'Neuro soba 1'),
('aaaaaaa2-aaaa-aaaa-aaaa-aaaaaaaaaaab', '11111111-1111-1111-1111-111111111111', 'Neuro soba 2'),
('bbbbbbb1-bbbb-bbbb-bbbb-bbbbbbbbbbbb', '22222222-2222-2222-2222-222222222222', 'Kardio soba 1'),
('bbbbbbb2-bbbb-bbbb-bbbb-bbbbbbbbbbbc', '22222222-2222-2222-2222-222222222222', 'Kardio soba 2');

-- Persons (Doctors)
INSERT INTO PERSONS (id, name, oib) VALUES
('11111111-aaaa-aaaa-aaaa-aaaaaaaa0001', 'Ivan Barišić', '12232144'),
('11111111-aaaa-aaaa-aaaa-aaaaaaaa0002', 'Marija Novak', '98765432'),
('22222222-bbbb-bbbb-bbbb-bbbbbbbbb001', 'Marko Horvat', '22334455'),
('22222222-bbbb-bbbb-bbbb-bbbbbbbbb002', 'Ivana Križman', '66778899');
('22222222-bbbb-bbbb-bbbb-bbbbbbbbb003', 'Anja', '66778859');

-- Doctors
INSERT INTO DOCTORS (id, departmentId, personId, specialty) VALUES
('11111111-aaaa-aaaa-aaaa-aaaaaaaa0001', '11111111-1111-1111-1111-111111111111', '11111111-aaaa-aaaa-aaaa-aaaaaaaa0001', 'neurolog'),
('11111111-aaaa-aaaa-aaaa-aaaaaaaa0002', '11111111-1111-1111-1111-111111111111', '11111111-aaaa-aaaa-aaaa-aaaaaaaa0002', 'neurolog'),
('22222222-bbbb-bbbb-bbbb-bbbbbbbbb001', '22222222-2222-2222-2222-222222222222', '22222222-bbbb-bbbb-bbbb-bbbbbbbbb001', 'kardiolog'),
('22222222-bbbb-bbbb-bbbb-bbbbbbbbb002', '22222222-2222-2222-2222-222222222222', '22222222-bbbb-bbbb-bbbb-bbbbbbbbb002', 'kardiolog');
('22222222-bbbb-bbbb-bbbb-bbbbbbbbb003', '22222222-2222-2222-2222-222222222222', '22222222-bbbb-bbbb-bbbb-bbbbbbbbb003', 'kardiolog');

-- Persons (Patients)
INSERT INTO PERSONS (id, name, oib) VALUES
('aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaa0001', 'Luka Lukačević', '129495'),
('aaaaaaa2-aaaa-aaaa-aaaa-aaaaaaaa0002', 'Ana Anić', '559912'),
('bbbbbbb1-bbbb-bbbb-bbbb-bbbbbbbbb001', 'Petar Perić', '778899'),
('bbbbbbb2-bbbb-bbbb-bbbb-bbbbbbbbb002', 'Marija Marinković', '443322');

-- Patients
INSERT INTO PATIENTS (id, diagnosis, status, personId, doctorId, roomId, departmentId) VALUES
('aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaa0001', 'Java', 'Hospitaliziran', 'aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaa0001', '11111111-aaaa-aaaa-aaaa-aaaaaaaa0001', 'aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaaa', '11111111-1111-1111-1111-111111111111'),
('aaaaaaa2-aaaa-aaaa-aaaa-aaaaaaaa0002', 'Migrena', 'Na pregledu', 'aaaaaaa2-aaaa-aaaa-aaaa-aaaaaaaa0002', '11111111-aaaa-aaaa-aaaa-aaaaaaaa0002', 'aaaaaaa2-aaaa-aaaa-aaaa-aaaaaaaaaaab', '11111111-1111-1111-1111-111111111111'),
('bbbbbbb1-bbbb-bbbb-bbbb-bbbbbbbbb001', 'Aritmija', 'Hospitaliziran', 'bbbbbbb1-bbbb-bbbb-bbbb-bbbbbbbbb001', '22222222-bbbb-bbbb-bbbb-bbbbbbbbb001', 'bbbbbbb1-bbbb-bbbb-bbbb-bbbbbbbbbbbb', '22222222-2222-2222-2222-222222222222'),
('bbbbbbb2-bbbb-bbbb-bbbb-bbbbbbbbb002', 'Hipertenzija', 'Na pregledu', 'bbbbbbb2-bbbb-bbbb-bbbb-bbbbbbbbb002', '22222222-bbbb-bbbb-bbbb-bbbbbbbbb002', 'bbbbbbb2-bbbb-bbbb-bbbb-bbbbbbbbbbbc', '22222222-2222-2222-2222-222222222222');

-- Persons (Visitors)
INSERT INTO PERSONS (id, name, oib) VALUES
('ccccccc1-cccc-cccc-cccc-cccccccc0001', 'Petra Petrić', '11122233344'),
('ccccccc2-cccc-cccc-cccc-cccccccc0002', 'Luka Lončar', '55566677788');

-- Visitors
INSERT INTO VISITORS (id, personId, departmentId) VALUES
('ddddddd1-dddd-dddd-dddd-dddddddd0001', 'ccccccc1-cccc-cccc-cccc-cccccccc0001', '11111111-1111-1111-1111-111111111111'), -- Petra u Neurologiji
('ddddddd2-dddd-dddd-dddd-dddddddd0002', 'ccccccc2-cccc-cccc-cccc-cccccccc0002', '22222222-2222-2222-2222-222222222222'); -- Luka u Kardiologiji


DROP TABLE UNDERAGEPATIENTS;
DROP TABLE VISITORS;
DROP TABLE PATIENTS;
DROP TABLE EMPLOYEES;
DROP TABLE DOCTORS;
DROP TABLE ROOMS;
DROP TABLE DEPARTMENTS;
DROP TABLE PERSONS;






CREATE TABLE PERSONS (
    id UUID PRIMARY KEY NOT NULL,
    name VARCHAR(50) NOT NULL,
    oib VARCHAR(13) NOT NULL
);

CREATE TABLE DEPARTMENTS (
    id UUID PRIMARY KEY NOT NULL,
    name VARCHAR(50) NOT NULL
);

CREATE TABLE ROOMS (
    id UUID PRIMARY KEY NOT NULL,
    departmentID UUID NOT NULL,
    name VARCHAR(50) NOT NULL,
    FOREIGN KEY (departmentID) REFERENCES DEPARTMENTS(id)
);

CREATE TABLE DOCTORS (
    id UUID PRIMARY KEY NOT NULL,
    departmentId UUID NOT NULL,
    specialty VARCHAR(50) NOT NULL,
    FOREIGN KEY (departmentId) REFERENCES DEPARTMENTS(id),
    FOREIGN KEY (id) REFERENCES PERSONS(id)
);

CREATE TABLE EMPLOYEES (
    id UUID PRIMARY KEY NOT NULL,
    salary DOUBLE NOT NULL,
    FOREIGN KEY (id) REFERENCES PERSONS(id)
);

CREATE TABLE PATIENTS (
    id UUID PRIMARY KEY NOT NULL,
    diagnosis VARCHAR(150) NOT NULL,
    status VARCHAR(40) NOT NULL CHECK (status IN ('Hospitaliziran','Otpušten','Na pregledu')),
    doctorId UUID NOT NULL,
    roomId UUID NOT NULL,
    departmentId UUID NOT NULL,
    FOREIGN KEY (id) REFERENCES PERSONS(id),
    FOREIGN KEY (doctorId) REFERENCES DOCTORS(id),
    FOREIGN KEY (roomId) REFERENCES ROOMS(id),
    FOREIGN KEY (departmentId) REFERENCES DEPARTMENTS(id)
);

CREATE TABLE VISITORS (
    id UUID PRIMARY KEY NOT NULL,
    personId UUID  NOT NULL,
    departmentId UUID NOT NULL,
    FOREIGN KEY (personId) REFERENCES PERSONS(id)
);

CREATE TABLE UNDERAGEPATIENTS (
    patientId UUID PRIMARY KEY NOT NULL,
    FOREIGN KEY (patientId) REFERENCES PATIENTS(id)
);
